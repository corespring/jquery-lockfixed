/*!
 * jQuery lockfixed plugin
 * http://www.directlyrics.com/code/lockfixed/
 *
 * Copyright 2012-2015 Yvo Schaap
 * Released under the MIT license
 * http://www.directlyrics.com/code/lockfixed/license.txt
 *
 * Date: Wed April 1 2015 12:00:01 GMT
 */
!function(t,o){t.extend({lockfixed:function(o,e){e&&e.offset?(e.offset.bottom=parseInt(e.offset.bottom,10),e.offset.top=parseInt(e.offset.top,10)):e.offset={bottom:100,top:0}
var o=t(o)
if(o&&o.offset()){var s=o.css("position"),i=parseInt(o.css("marginTop"),10)||0,n=o.css("top"),f=o.offset().top,p=!1;(e.forcemargin===!0||navigator.userAgent.match(/\bMSIE (4|5|6)\./)||navigator.userAgent.match(/\bOS ([0-9])_/)||navigator.userAgent.match(/\bAndroid ([0-9])\./i))&&(p=!0),o.wrap("<div style='height:"+o.outerHeight()+"px;display:"+o.css("display")+"'></div>"),t(window).bind("DOMContentLoaded load scroll resize orientationchange lockfixed:pageupdate",o,function(a){if(!p||!document.activeElement||"INPUT"!==document.activeElement.nodeName){var r=0,c=o.outerHeight(),d=o.outerWidth(),g=t(document).height()-e.offset.bottom,m=t(window).scrollTop(),h=o[0].getBoundingClientRect(),u=o.find(":visible"),l=0
u.each(function(){var t=this.getBoundingClientRect()
l=Math.max(t.bottom,t.bottom)}),c=l-h.top,"fixed"===o.css("position")||p||(f=o.offset().top,n=o.css("top")),m>=f-(i?i:0)-e.offset.top?(r=g<m+c+i+e.offset.top&&c+e.offset.top>t(window).height()?m+c+i+e.offset.top-g:0,p?o.css({marginTop:parseInt(m-f-r,10)+2*e.offset.top+"px"}):o.css({position:"fixed",top:e.offset.top-r+"px",width:d+"px"})):o.css({position:s,top:n,width:d+"px",marginTop:(i&&!p?i:0)+"px"})}})}}})}(jQuery),function(t,o){t.extend({lockfixed:function(o,e){if(e&&e.offset?(e.offset.bottom=parseInt(e.offset.bottom,10),e.offset.top=parseInt(e.offset.top,10)):e.offset={bottom:100,top:0},(o=t(o))&&o.offset()){var s=o.css("position"),i=parseInt(o.css("marginTop"),10)||0,n=o.css("top"),f=o.offset().top,p=!1;(!0===e.forcemargin||navigator.userAgent.match(/\bMSIE (4|5|6)\./)||navigator.userAgent.match(/\bOS ([0-9])_/)||navigator.userAgent.match(/\bAndroid ([0-9])\./i))&&(p=!0),o.wrap("<div style='height:"+o.outerHeight()+"px;display:"+o.css("display")+"'></div>"),t(window).bind("DOMContentLoaded load scroll resize orientationchange lockfixed:pageupdate",o,function(a){if(!p||!document.activeElement||"INPUT"!==document.activeElement.nodeName){var r=0,r=o.outerHeight()
a=o.outerWidth()
var c=t(document).height()-e.offset.bottom,d=t(window).scrollTop()
"fixed"===o.css("position")||p||(f=o.offset().top,n=o.css("top")),d>=f-(i?i:0)-e.offset.top?(r=c<d+r+i+e.offset.top&&r+e.offset.top>t(window).height()?d+r+i+e.offset.top-c:0,p?o.css({marginTop:parseInt(d-f-r,10)+2*e.offset.top+"px"}):o.css({position:"fixed",top:e.offset.top-r+"px",width:a+"px"})):o.css({position:s,top:n,width:a+"px",marginTop:(i&&!p?i:0)+"px"})}})}}})}(jQuery)
